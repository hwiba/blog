<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Java 7, null check 하기 | Force Push</title>
  <meta name="author" content="hwiba hyva">
  
  <meta name="description" content="Java 7에서 추가된 Objects의 requireNonNull(T t) 메서드는 파라미터의 null 체크를 위한 메서드로 null을 어떻게든 해보려는 목적에서 Java 8의 Optional과 비슷한 면이 있지만 그 처리는 상당한 차이가 있다. 이번 post에선 re">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Java 7, null check 하기"/>
  <meta property="og:site_name" content="Force Push"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/blog/favicon.ico" rel="icon">
  <link rel="alternate" href="/blog/atom.xml" title="Force Push" type="application/atom+xml">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" type="text/css">
<link rel="stylesheet" href="/blog/css/style.css" type="text/css">
  <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <header id="header" class='normal_mode'>
    <nav id="main-nav">
  <ul class='container'>
    
      <li><a href="/blog/">Home</a></li>
    
      <li><a href="/blog/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
  </header>
  <div id="content" class="container">
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2015-10-15T09:24:59.000Z"><a href="/blog/2015/10/15/Java-7-null-check-하기/">Thu, Oct 15 2015, 6:24:59 pm</a></time>

  
    <h1 class="title">Java 7, null check 하기</h1>
  



  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/blog/tags/Java/">Java</a>, <a href="/blog/tags/Java-7/">Java 7</a>, <a href="/blog/tags/Java-8/">Java 8</a>, <a href="/blog/tags/nullCheck/">nullCheck</a>, <a href="/blog/tags/requireNonNull/">requireNonNull</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>Java 7에서 추가된 <code>Objects</code>의 <code>requireNonNull(T t)</code> 메서드는 파라미터의 null 체크를 위한 메서드로 null을 어떻게든 해보려는 목적에서 Java 8의 Optional과 비슷한 면이 있지만 그 처리는 상당한 차이가 있다. 이번 post에선 <code>requireNonNull</code>에 대해 다룬다.</p>
<p>메서드에서 null일 가능성이 있는 인자가 있을 때, 이를 메서드 시작 지점에서 체크하여 Exception을 던지고자 하는 경우 다음과 비슷한 코드를 종종 볼 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nullableParameterMethod</span> <span class="params">(Object object)</span> <span class="keyword">throws</span> NullPointerException </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> ( <span class="keyword">null</span> == object ) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException();</span><br><span class="line">  &#125;</span><br><span class="line">  System.out.println(String.valueOf(object));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>잘 동작할 것처럼 보이는데 이것에서 더 개선할 점이 있을까? <code>Objects.requireNonNull</code>은 이 코드를 더 편하게 사용하는 것을 목표로 한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nullableParameterMethod2</span> <span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">  object = Objects.requireNonNull(object);</span><br><span class="line">  System.out.println(String.valueOf(object));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Objects.requireNonNull(T t)</code>은 인자 t가 null이 아니면 인자 t를 리턴하고 null이라면 내부에서 NullPointerException을 호출하는 메서드다. 이 정도로는 뭐가 개선된 건지 알기 어렵다. 코드가 아주 약간 줄어들기는 했지만 그게 그렇게 중요할까? 물론 의미는 있다. 메서드를 이해하고 있다면 가독성의 증가라고 생각해볼 수 있을 것이다. 그리 썩 대단해보이지는 않지만 null 체크만이 아니라 다양한 상태 체크가 있다면 좀 도움이 되지 않을까?</p>
<p>같은 이름의 <code>Objects.requireNonNull(T t, String message)</code> 메서드는 예외 상황에 대해 메시지를 추가해준다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nullableParameterMethod3</span> <span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">  object = Objects.requireNonNull(object, <span class="string">"object가 null입니다."</span>);</span><br><span class="line">  System.out.println(String.valueOf(object));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>여기까지도 뭐 그냥저냥인 것 같다. 그런데 Java 8에 오면서 lambda 식이 생김으로서 하나의 메서드가 더 생겼다. <code>Objects.requireNonNull(T t, Supplier&lt;String&gt; messageSupplier)</code>다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nullableParameterMethod4</span> <span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">  object = Objects.requireNonNull(object, () -&gt; <span class="string">"object가 null입니다."</span>);</span><br><span class="line">  System.out.println(String.valueOf(object));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Supplier&lt;T&gt;</code>는 無인자 單 리턴의 Functional Interface로서 매우 Lazy 하고 싶을 때 쓰기 좋다. return이 String이기만 하다면 그 안에서 여러가지를 할 수 있으므로 검사 대상인 객체가 null일 때 Exception을 던지는 것 말고도 여러가지 작업을 추가할 수 있을 것이다. 그런데 여전히 <code>if (null == object) {...}</code>에 비해 아주 대단해 보이지는 않는다. 좀 나은 정도? 불필요한 코드 라인 수를 줄이는데 도움이 될 것이다.</p>
<p>다음 post에서는 <code>Optional&lt;T&gt;</code>에 대해 알아볼 것이다.</p>

      
    </div>
    <footer>
      
          
          <div class="clearfix"></div>
          <nav id="pagination">
  
    <a href="/blog/2015/10/15/Next-웹-프론트엔드-세미나-그거-좀-쓰면-더-좋냐/" class="alignleft prev"><i class="fa fa-long-arrow-left"></i>Next</a>
  
  
    <a href="/blog/2015/10/12/Java-8-Functional-Interface-Nominal-typing/" class="alignright next">Prev<i class="fa fa-long-arrow-right"></i></a>
  
  <div class="clearfix"></div>
</nav>
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">Comments</h1>

  
</section>



    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div>
  
  &copy; 2015 hwiba hyva
  
</div>
Powered by <a href="http://zespia.tw/hexo/" title="Hexo" target="_blank" rel="external">Hexo</a> and <a href="http://pages.github.com/" title="GitHub Pages" target="_blank" rel="external">GitHub Pages</a>

<div class="clearfix"></div></footer>
  
<script src="/blog/js/jquery.imagesloaded.min.js" type="text/javascript"></script>
<script src="/blog/js/gallery.js" type="text/javascript"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js" type="text/javascript"></script>




    <script type="text/javascript">
        (function(){

            $(window).scroll(function(){

                var scrollTop = $(window).scrollTop();
                if ( scrollTop >200 ){
                    $("#main-nav").removeClass('normal_mode').addClass('top_mode');
                } else{
                    $("#main-nav").removeClass('top_mode').addClass('normal_mode');
                }

            });

        })();
    </script>



  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css" media="screen" type="text/css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
  (function($){
    $('.fancybox').fancybox({
      'titlePosition': 'inside'
    });
  })(jQuery);
  </script>




<script type="text/javascript">
  
  $(function(){

    $('.title').hover(
      function() {      
        $(this).stop().animate(
          {'marginLeft': '10px'}, 200
        );   
      }, 
      function() {       
        $(this).stop().animate({'marginLeft': '0px'}, 200);      
      
    });   

  });

</script>


</body>
</html>